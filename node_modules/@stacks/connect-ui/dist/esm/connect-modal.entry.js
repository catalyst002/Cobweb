import { r as registerInstance, h, g as getElement } from './index-bf6982d4.js';

const closeIconSvg = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTcgNyAxMCAxME0xNyA3IDcgMTciIHN0cm9rZT0iIzI0MjYyOSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==';

const leatherLogoSvg = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjI2LjgzODciIGZpbGw9IiMxMjEwMEYiLz4KPHBhdGggZD0iTTc0LjkxNzEgNTIuNzExNEM4Mi40NzY2IDUxLjU0MDggOTMuNDA4NyA0My41ODA0IDkzLjQwODcgMzcuMzc2MUM5My40MDg3IDM1LjUwMzEgOTEuODk2OCAzNC4yMTU0IDg5LjY4NzEgMzQuMjE1NEM4NS41MDA0IDM0LjIxNTQgNzguNDA2MSA0MC41MzY4IDc0LjkxNzEgNTIuNzExNFpNMzkuOTExIDgzLjQ5OTFDMzAuMDI1NiA4My40OTkxIDI5LjIxMTUgOTMuMzMyNCAzOS4wOTY5IDkzLjMzMjRDNDMuNTE2MyA5My4zMzI0IDQ4Ljg2NjEgOTEuNTc2NCA1MS42NTczIDg4LjQxNTdDNDcuNTg2OCA4NC45MDM4IDQ0LjIxNDEgODMuNDk5MSAzOS45MTEgODMuNDk5MVpNMTAyLjgyOSA3OS4yODQ4QzEwMy40MSA5NS43OTA3IDk1LjAzNjkgMTA1LjAzOSA4MC44NDg0IDEwNS4wMzlDNzIuNDc0OCAxMDUuMDM5IDY4LjI4ODEgMTAxLjg3OCA1OS4zMzMgOTYuMDI0OUM1NC42ODEgMTAxLjE3NiA0NS44NDIzIDEwNS4wMzkgMzguNTE1NCAxMDUuMDM5QzEzLjI3ODUgMTA1LjAzOSAxNC4zMjUyIDcyLjg0NjMgNDAuMDI3MyA3Mi44NDYzQzQ1LjM3NzEgNzIuODQ2MyA0OS45MTI4IDc0LjI1MTEgNTUuNzI3NyA3Ny44OEw1OS41NjU2IDY0LjQxNzdDNDMuNzQ4OSA2MC4wODY0IDM1Ljg0MDUgNDcuOTExOCA0My42MzI2IDMwLjQ2OTNINTYuMTkyOUM0OS4yMTUgNDIuMDU4NiA1My45ODMyIDUxLjY1NzggNjIuODIyIDUyLjcxMTRDNjcuNTkwMyAzNS43MzcyIDc3LjgyNDYgMjIuNTA5IDkxLjQzMTYgMjIuNTA5Qzk5LjEwNzQgMjIuNTA5IDEwNS4xNTUgMjcuNTQyOCAxMDUuMTU1IDM2LjY3MzdDMTA1LjE1NSA1MS4zMDY2IDg2LjA4MTkgNjMuMjQ3MSA3MS42NjA3IDY0LjQxNzdMNjUuNzI5NSA4NS4zNzIxQzcyLjQ3NDggOTMuMjE1MyA5MS4xOTkgMTAwLjgyNCA5MS4xOTkgNzkuMjg0OEgxMDIuODI5WiIgZmlsbD0iI0Y1RjFFRCIvPgo8L3N2Zz4K';

const xverseWalletLogoSvg = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMTAuMjkyNCIgZmlsbD0iIzEyMTUxRSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjk0OTQgMTEuMTAxQzE2LjUxMjIgNi45NjYzMiAyMy40ODgxIDYuOTY2MzUgMjguMDUwOSAxMS4xMDFMMjYuOTg3MiAxMi4xNjQ3QzIzLjAxMzQgOC42MTQ2NiAxNi45ODcgOC42MTQ2MyAxMy4wMTMxIDEyLjE2NDZMMTEuOTQ5NCAxMS4xMDFaTTI4Ljg5OTQgMTEuOTQ5NkwyNy44MzU4IDEzLjAxMzNDMzEuMzg1NSAxNi45ODcxIDMxLjM4NTUgMjMuMDEzMyAyNy44MzU2IDI2Ljk4NzFMMjguODk5MiAyOC4wNTA4QzMzLjAzMzggMjMuNDg4MSAzMy4wMzM4IDE2LjUxMjQgMjguODk5NCAxMS45NDk2Wk0xMy4wMTMzIDI3LjgzNTdDMTYuOTg3MSAzMS4zODU1IDIzLjAxMzIgMzEuMzg1NSAyNi45ODcgMjcuODM1NkwyOC4wNTA3IDI4Ljg5OTNDMjMuNDg3OSAzMy4wMzM4IDE2LjUxMjQgMzMuMDMzOCAxMS45NDk2IDI4Ljg5OTRMMTMuMDEzMyAyNy44MzU3Wk0xMi4xNjQ3IDI2Ljk4NzJMMTEuMTAxIDI4LjA1MDlDNi45NjYzOCAyMy40ODgxIDYuOTY2MzIgMTYuNTEyNCAxMS4xMDA4IDExLjk0OTVMMTIuMTY0NSAxMy4wMTMyQzguNjE0NjMgMTYuOTg3MSA4LjYxNDY5IDIzLjAxMzQgMTIuMTY0NyAyNi45ODcyWk0yNy40Nzg2IDE0Ljk4OTZDMjcuMTU3OSAxNC41MTIxIDI2Ljc4NjQgMTQuMDU4NSAyNi4zNjQzIDEzLjYzNjRDMjMuNTY4MiAxMC44NDAyIDE5LjM4OTkgMTAuMjY4NSAxNi4wMjg2IDExLjkyMTRMMTYuNzgxOSAxMy4yMjYxQzE5LjU2NjQgMTEuOTAzMiAyMi45OTc3IDEyLjM5NDEgMjUuMzAyMiAxNC42OTg1QzI1LjYyOTMgMTUuMDI1NiAyNS45MTk4IDE1LjM3NTQgMjYuMTczOCAxNS43NDI5TDI3LjQ3ODYgMTQuOTg5NlpNMjYuNzc0NSAxNi43ODE3TDI4LjA3OTMgMTYuMDI4NEMyOS43MzIyIDE5LjM4OTggMjkuMTYwNiAyMy41NjgyIDI2LjM2NDMgMjYuMzY0NEMyNS45NDIyIDI2Ljc4NjYgMjUuNDg4NSAyNy4xNTggMjUuMDEwOCAyNy40Nzg4TDI0LjI1NzYgMjYuMTc0MUMyNC42MjUxIDI1LjkyIDI0Ljk3NSAyNS42Mjk0IDI1LjMwMjIgMjUuMzAyMkMyNy42MDY3IDIyLjk5NzcgMjguMDk3NSAxOS41NjYyIDI2Ljc3NDUgMTYuNzgxN1pNMjMuMjE4NyAyNi43NzQ3QzIwLjQzNDIgMjguMDk3NSAxNy4wMDI5IDI3LjYwNjYgMTQuNjk4NSAyNS4zMDIyQzE0LjM3MTIgMjQuOTc0OSAxNC4wODA1IDI0LjYyNDkgMTMuODI2NCAyNC4yNTczTDEyLjUyMTcgMjUuMDEwNkMxMi44NDI1IDI1LjQ4ODMgMTMuMjE0IDI1Ljk0MjEgMTMuNjM2MyAyNi4zNjQ0QzE2LjQzMjUgMjkuMTYwNSAyMC42MTA3IDI5LjczMjIgMjMuOTcyIDI4LjA3OTRMMjMuMjE4NyAyNi43NzQ3Wk0xMS45MjExIDIzLjk3MTdMMTMuMjI1OCAyMy4yMTg0QzExLjkwMzMgMjAuNDM0IDEyLjM5NDIgMTcuMDAyOSAxNC42OTg1IDE0LjY5ODVDMTUuMDI1NyAxNC4zNzE0IDE1LjM3NTUgMTQuMDgwOCAxNS43NDMgMTMuODI2N0wxNC45ODk3IDEyLjUyMkMxNC41MTIxIDEyLjg0MjggMTQuMDU4NSAxMy4yMTQyIDEzLjYzNjMgMTMuNjM2NEMxMC44NDAzIDE2LjQzMjQgMTAuMjY4NSAyMC42MTA0IDExLjkyMTEgMjMuOTcxN1pNMjQuMjQyOCAxNS43NTc0QzI1LjEyODcgMTYuNjQzMyAyNS42Nzk3IDE3LjczNzMgMjUuODk1NyAxOC44ODIxTDI0LjM4OTIgMTkuMDEzOUMyNC4yMDkzIDE4LjIwOTcgMjMuODA2NCAxNy40NDU0IDIzLjE4MDYgMTYuODE5NUMyMi4zNTU2IDE1Ljk5NDUgMjEuMjg5NyAxNS41NTY5IDIwLjIwOTIgMTUuNTA3TDIwLjA3NzQgMTQuMDAwNUMyMS41ODcxIDE0LjAxOTggMjMuMDkwOSAxNC42MDU0IDI0LjI0MjggMTUuNzU3NFpNMTguODgyIDE0LjEwNDVDMTcuNzM3MyAxNC4zMjA2IDE2LjY0MzMgMTQuODcxNSAxNS43NTc1IDE1Ljc1NzRDMTQuNjA1NiAxNi45MDkyIDE0LjAyIDE4LjQxMjkgMTQuMDAwNiAxOS45MjI1TDE1LjUwNzEgMTkuNzkwN0MxNS41NTcxIDE4LjcxMDMgMTUuOTk0NiAxNy42NDQ2IDE2LjgxOTYgMTYuODE5NUMxNy40NDU0IDE2LjE5MzggMTguMjA5NyAxNS43OTA5IDE5LjAxMzggMTUuNjExTDE4Ljg4MiAxNC4xMDQ1Wk0xNC4xMDQ2IDIxLjExOEMxNC4zMjA2IDIyLjI2MjggMTQuODcxNSAyMy4zNTY4IDE1Ljc1NzUgMjQuMjQyN0MxNi45MDkzIDI1LjM5NDYgMTguNDEzIDI1Ljk4MDIgMTkuOTIyNiAyNS45OTk2TDE5Ljc5MDcgMjQuNDkzMUMxOC43MTA0IDI0LjQ0MyAxNy42NDQ2IDI0LjAwNTUgMTYuODE5NiAyMy4xODA1QzE2LjE5MzggMjIuNTU0NyAxNS43OTEgMjEuNzkwNCAxNS42MTExIDIwLjk4NjJMMTQuMTA0NiAyMS4xMThaTTI0LjI0MjggMjQuMjQyN0MyMy4zNTY5IDI1LjEyODYgMjIuMjYyOCAyNS42Nzk2IDIxLjExOCAyNS44OTU2TDIwLjk4NjIgMjQuMzg5MUMyMS43OTA0IDI0LjIwOTIgMjIuNTU0OCAyMy44MDY0IDIzLjE4MDYgMjMuMTgwNUMyNC4wMDU2IDIyLjM1NTUgMjQuNDQzMiAyMS4yODk3IDI0LjQ5MzIgMjAuMjA5NEwyNS45OTk3IDIwLjA3NzZDMjUuOTgwMyAyMS41ODcyIDI1LjM5NDcgMjMuMDkwOCAyNC4yNDI4IDI0LjI0MjdaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNTA1Nl8yNDIzNjgpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNTA1Nl8yNDIzNjgiIHgxPSIxMS41NjgxIiB5MT0iMjguNTY5MSIgeDI9IjMyLjc2NjkiIHkyPSI3LjM3MDMzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM1NTY1RjciLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOUVBN0ZBIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==';

const isChrome = () => {
  const isChromium = !!window['chrome'];
  const winNav = window.navigator;
  const vendorName = winNav.vendor;
  const isOpera = typeof window.opr !== 'undefined';
  const isIEedge = winNav.userAgent.includes('Edge');
  const isIOSChrome = /CriOS/.exec(winNav.userAgent);
  const isMobile = winNav.userAgent.includes('Mobile');
  if (isIOSChrome) {
    return false;
  }
  else if (isChromium !== null &&
    typeof isChromium !== 'undefined' &&
    vendorName === 'Google Inc.' &&
    isOpera === false &&
    isIEedge === false &&
    isMobile === false) {
    return true;
  }
  else {
    return false;
  }
};
const getBrowser = () => {
  if (isChrome()) {
    return 'Chrome';
  }
  else if (window.navigator.userAgent.includes('Firefox')) {
    return 'Firefox';
  }
  return null;
};
const getPlatform = () => {
  if (!window.navigator.userAgent.includes('Mobile'))
    return null;
  if (window.navigator.userAgent.includes('iPhone')) {
    return 'IOS';
  }
  else
    return 'Android';
};

const modalCss = ":host{all:initial}.modal-container{display:flex;flex-direction:column;background-color:rgba(0, 0, 0, 0.48);width:100%;height:100%;position:fixed;top:0px;left:0px;justify-content:center;font-family:\"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";z-index:8999;overflow-y:scroll}.modal-body{width:486px;max-width:100%;max-height:calc(100% - 48px);background:white;margin-left:auto;margin-right:auto;border-radius:12px;padding:20px 24px 20px;box-sizing:border-box;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.modal-body::-webkit-scrollbar{display:none}@media (max-width: 640px){.modal-body{max-height:100%}}.modal-header{display:flex;flex-direction:column}@media (max-width: 640px){.modal-header{flex-direction:row-reverse;align-items:flex-start}}.close-modal{display:flex;align-items:flex-end;justify-content:flex-end}.close-icon{cursor:pointer}.modal-content{display:flex;flex-direction:column}.modal-title{color:#242629;font-family:\"Open Sauce One\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-weight:500;font-size:32px;line-height:32px;margin-bottom:18px;padding-right:48px;margin-top:18px}@media (max-width: 640px){.modal-title{font-size:24px;line-height:24px;margin-bottom:8px;margin-top:0px;padding-right:0px}}.modal-subtitle{font-size:16px;font-weight:400;line-height:24px;color:#74777d}@media (max-width: 640px){.modal-subtitle{font-size:13px}}.download-app-container{display:flex;flex-direction:column;margin-top:20px}.button{width:100%;max-width:139px;box-sizing:border-box;border-radius:8px;font-size:14px;font-weight:500;line-height:20px;background-color:#5546ff;color:#ffffff;min-height:48px;min-width:126px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;outline:none;border:none;cursor:pointer}.link{color:#5546ff;font-size:14px;line-height:20px;cursor:pointer;margin-top:4px}.modal-subheading{font-size:16px;font-weight:600;line-height:19px;color:#000000}.modal-wallet-card{display:flex;align-items:flex-start;background:white;border:2px solid #f4f4f6;border-radius:16px;margin-top:12px;padding:24px 10px 24px 20px}.wallet-container{display:flex;flex-direction:column}@media (max-width: 640px){.wallet-container{flex-direction:column-reverse}}.modal-wallet-text{font-size:14px;font-weight:400;line-height:20px;margin-top:4px;color:#74777d}.modal-wallet-text a{color:#5546ff;text-decoration:none}@media (max-width: 640px){.modal-wallet-text{font-size:13px}}.modal-wallet-card-content{display:flex;flex-direction:column;padding-left:14px}";

const CHROME_BROWSER_URL = 'https://www.google.com/chrome/';
const BRAVE_BROWSER_URL = 'https://brave.com/';
const FIREFOX_BROWSER_URL = 'https://www.mozilla.org/en-US/';
const CHROME_STORE_URL = 'https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj/';
const FIREFOX_STORE_URL = 'https://addons.mozilla.org/en-US/firefox/addon/hiro-wallet/';
const XVERSE_APP_STORE_URL = 'https://apps.apple.com/app/id1552272513';
const XVERSE_PLAY_STORE_URL = 'https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse';
const XVERSE_CHROME_STORE_URL = 'https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg';
const Modal = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.authOptions = undefined;
    this.hasOpenedInstall = undefined;
    this.hasOpenedInstallXverse = undefined;
  }
  handleCloseModal() {
    var _a, _b;
    this.modalEl.remove();
    (_b = (_a = this.authOptions).onCancel) === null || _b === void 0 ? void 0 : _b.call(_a);
  }
  handleDownloadPath(browser) {
    if (browser === 'Chrome') {
      window.open(CHROME_STORE_URL, '_blank');
    }
    else if (browser === 'Firefox') {
      window.open(FIREFOX_STORE_URL, '_blank');
    }
    else if (browser === 'IOS') {
      window.open(XVERSE_APP_STORE_URL, '_blank');
      this.hasOpenedInstallXverse = true;
      return;
    }
    else if (browser === 'Android') {
      window.open(XVERSE_PLAY_STORE_URL, '_blank');
      this.hasOpenedInstallXverse = true;
      return;
    }
    else if (browser === 'Xverse-Chrome') {
      window.open(XVERSE_CHROME_STORE_URL, '_blank');
      this.hasOpenedInstallXverse = true;
      return;
    }
    else {
      window.open('https://www.hiro.so/wallet/install-web', '_blank');
    }
    this.hasOpenedInstall = true;
  }
  render() {
    const browser = getBrowser();
    const isMobile = getPlatform();
    return (h("div", { class: "modal-container" }, h("div", { class: "modal-body" }, h("div", { class: "modal-header" }, h("div", { class: "close-modal" }, h("img", { class: "close-icon", src: closeIconSvg, onClick: () => this.handleCloseModal() })), isMobile || browser ? (h("span", { class: "modal-title" }, "Get wallet to use ", this.authOptions.appDetails.name)) : (h("span", { class: "modal-title" }, "Your browser isn't supported"))), h("div", { class: "modal-subtitle" }, "To sign in to ", this.authOptions.appDetails.name, ", you will need a Stacks-compatible wallet."), h("div", { class: "modal-content" }, h("div", { class: "wallet-container" }, h("div", { class: "modal-wallet-card" }, h("img", { src: leatherLogoSvg }), h("div", { class: "modal-wallet-card-content" }, h("span", { class: "modal-subheading" }, "Leather"), browser && !isMobile ? (h("div", { class: "modal-wallet-text" }, "Leather is the only Bitcoin wallet you need to tap into the emerging Bitcoin economy.")) : (h("div", { class: "modal-wallet-text" }, "Browser extension for ", ` `, h("a", { href: CHROME_BROWSER_URL, target: "_blank" }, "Chrome"), `, `, h("a", { href: BRAVE_BROWSER_URL, target: "_blank" }, "Brave"), `, or `, h("a", { href: FIREFOX_BROWSER_URL, target: "_blank" }, "Firefox"), ` on desktop.`)), h("span", { class: "link", onClick: () => window.open('https://leather.io/', '_blank') }, "About Leather \u2192"), browser && !isMobile && (h("div", { class: "download-app-container" }, this.hasOpenedInstall ? (h("div", { class: "modal-wallet-text" }, "After installing Leather, reload this page and sign in.")) : (h("button", { class: "button", onClick: () => {
        this.handleDownloadPath(browser);
      } }, "Download")))))), h("div", { class: "modal-wallet-card" }, h("img", { src: xverseWalletLogoSvg }), h("div", { class: "modal-wallet-card-content" }, h("span", { class: "modal-subheading" }, "Xverse Wallet"), browser === 'Chrome' ? (h("div", { class: "modal-wallet-text" }, "Xverse is an advanced web3 wallet for Bitcoin and Stacks. Available for Chrome, Android and iOS. Add it to Chrome to continue.")) : isMobile ? (h("div", { class: "modal-wallet-text" }, "Xverse is your gateway to Stacks apps like ", this.authOptions.appDetails.name, ". Install it on your device to continue.`")) : (h("div", { class: "modal-wallet-text" }, "Browser extension for ", ` `, h("a", { href: CHROME_BROWSER_URL, target: "_blank" }, "Chrome"), ` on desktop, application for iOS and Android on mobile.`)), h("span", { class: "link", onClick: () => window.open('https://www.xverse.app/', '_blank') }, "About Xverse Wallet \u2192"), h("div", { class: "download-app-container" }, this.hasOpenedInstallXverse ? (isMobile ? (h("span", { class: "link", onClick: () => window.open(`stacks://browser?url=${window.location.href}`, '_blank') }, "Open this page in Xverse Wallet \u2192")) : (h("div", { class: "modal-wallet-text" }, "After installing Xverse Wallet, reload this page and sign in."))) : ((browser === 'Chrome' || isMobile) && (h("button", { class: "button", onClick: () => {
        this.handleDownloadPath(isMobile !== null && isMobile !== void 0 ? isMobile : `Xverse-${browser}`);
      } }, "Download")))))))))));
  }
  static get assetsDirs() { return ["assets"]; }
  get modalEl() { return getElement(this); }
};
Modal.style = modalCss;

export { Modal as connect_modal };
